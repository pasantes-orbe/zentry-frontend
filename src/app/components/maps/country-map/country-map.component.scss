:host, ion-content { display: block; height: 100%; }

/* El mapa ocupa todo y no genera scroll */
.map-root {
  position: absolute;
  inset: 0; /* top/right/bottom/left: 0 */
}

/* Pings (si los usás) */
.box {
  position: absolute; top: 90px; left: 50%; transform: translateX(-50%);
  width: 160px; height: 160px; z-index: 1000; pointer-events: none;
}
.circle1, .circle2 {
  position: absolute; inset: 0; border-radius: 50%;
  border: 4px solid rgba(220,38,38,0.85); opacity: .8;
}
.ping    { animation: ping 1.6s cubic-bezier(0,0,0.2,1) infinite; }
.ping-d  { animation: ping 1.6s cubic-bezier(0,0,0.2,1) infinite .8s; }
@keyframes ping { 0%{transform:scale(.6);opacity:.9}70%{transform:scale(1.2);opacity:.25}100%{transform:scale(1.4);opacity:0} }

/* Leaflet por delante del fondo, por debajo del FAB */
:host ::ng-deep .leaflet-container { z-index: 1; }
:host ::ng-deep .leaflet-control-zoom a { width: 34px; height: 34px; line-height: 34px; font-size: 18px; }
:host ::ng-deep .leaflet-popup-content { margin: 12px 16px; line-height: 1.25; }

/* FAB centrado y por encima de la tab bar */
ion-fab {
  z-index: 1000;
  margin-bottom: calc(env(safe-area-inset-bottom) + 72px);
}

/* ===== Botón igual al de Tab2 ===== */
.panic-button {
  position: relative;     /* para posicionar el anillo */
  overflow: visible;
  --background: var(--ion-color-danger);
  --border-radius: 50%;
  width: 100px;
  height: 100px;
  box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);

  ion-icon { font-size: 60px; }
}

/* ACTIVO: sigue rojo pero translúcido, sin pulso */
.panic-button.active {
  --background: rgba(239, 68, 68, 0.85);
  box-shadow: none;
}

/* Anillo de pulso circular (no cuadrado) */
.pulse-ring {
  position: absolute;
  inset: -6px;                /* leve margen para que el anillo crezca fuera */
  border-radius: 9999px;
  border: 6px solid rgba(239, 68, 68, 0.7);
  animation: pulse-ring 1.8s ease-out infinite;
  pointer-events: none;
}

@keyframes pulse-ring {
  0%   { transform: scale(0.9);  opacity: 0.9; }
  70%  { transform: scale(1.35); opacity: 0.25; }
  100% { transform: scale(1.45); opacity: 0; }
}

/* Importante: NO dejes estilos viejos de ion-button { position:absolute ... } */
