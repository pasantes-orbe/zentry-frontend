<ion-content [fullscreen]="true">
  <div class="split-layout">

    <!-- Panel Izquierdo: Branding (visible en desktop) -->
    <div class="split-panel branding-panel">
      <div class="branding-content">
        <img src="assets/logos/logo-48.png" alt="Zentry Logo" class="branding-logo">
        <h1>Bienvenido a Zentry</h1>
        <p>Tu plataforma de gestión de seguridad y administración.</p>
      </div>
    </div>

    <!-- Panel Derecho: Formulario de Login -->
    <div class="split-panel form-panel">
      <div class="form-wrapper">
        
        <!-- Encabezado del Formulario -->
        <div class="form-header">
          <ion-icon name="lock-open-outline"></ion-icon>
          <h2>Iniciar Sesión</h2>
        </div>

        <!-- Mensaje de Error -->
        <ion-text class="error-message" *ngIf="getErrorMessage()" color="danger">
          <p>{{ getErrorMessage() }}</p>
        </ion-text>

        <!-- Formulario -->
        <form [formGroup]="getForm()" (ngSubmit)="login()">
          <ion-item class="form-field" lines="none">
            <ion-label position="floating">Usuario o Email</ion-label>
            <ion-input required type="text" formControlName="user"></ion-input>
          </ion-item>

          <ion-item class="form-field" lines="none">
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input #password required type="password" formControlName="password"></ion-input>
            <ion-icon #passwordShowIcon button (click)="showPassword(password)" slot="end" name="eye-off-outline"></ion-icon>
          </ion-item>

          <div class="form-actions">
            <ion-button class="submit-button" [disabled]="getForm().invalid" type="submit" expand="block">
              Ingresar
            </ion-button>
            <ion-button class="forgot-password-button" (click)="openModal()" fill="clear" expand="block">
              ¿Olvidaste tu contraseña?
            </ion-button>
          </div>
          
          <app-loader [loading]="_loading.isLoading()" [msg]="_loading.getMessage()"></app-loader>
        </form>
      </div>
    </div>

  </div>
</ion-content>
